// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: verfication.sql

package pgdb

import (
	"context"
	"database/sql"
	"encoding/json"
	"time"
)

const countVerificationsByStatus = `-- name: CountVerificationsByStatus :one
SELECT COUNT(*) FROM captain_verifications
WHERE overall_status = $1
`

func (q *Queries) CountVerificationsByStatus(ctx context.Context, overallStatus NullVerificationStatusEnum) (int64, error) {
	row := q.db.QueryRowContext(ctx, countVerificationsByStatus, overallStatus)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createAadharDetails = `-- name: CreateAadharDetails :one

INSERT INTO captain_aadhar_details (
    verification_id,
    aadhar_number,
    aadhar_name,
    front_url,
    back_url,
    status
) VALUES (
    $1, $2, $3, $4, $5, $6
) RETURNING id, verification_id, aadhar_number, aadhar_name, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at
`

type CreateAadharDetailsParams struct {
	VerificationID int32
	AadharNumber   string
	AadharName     string
	FrontUrl       sql.NullString
	BackUrl        sql.NullString
	Status         NullDocumentStatusEnum
}

// ========== AADHAR DETAILS ==========
func (q *Queries) CreateAadharDetails(ctx context.Context, arg CreateAadharDetailsParams) (CaptainAadharDetail, error) {
	row := q.db.QueryRowContext(ctx, createAadharDetails,
		arg.VerificationID,
		arg.AadharNumber,
		arg.AadharName,
		arg.FrontUrl,
		arg.BackUrl,
		arg.Status,
	)
	var i CaptainAadharDetail
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.AadharNumber,
		&i.AadharName,
		&i.FrontUrl,
		&i.BackUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const createBackgroundCheck = `-- name: CreateBackgroundCheck :one

INSERT INTO captain_background_checks (
    verification_id,
    police_verification_id,
    report_url,
    status
) VALUES (
    $1, $2, $3, $4
) RETURNING id, verification_id, police_verification_id, report_url, status, admin_comment, verified_by, verified_at, created_at
`

type CreateBackgroundCheckParams struct {
	VerificationID       int32
	PoliceVerificationID sql.NullString
	ReportUrl            sql.NullString
	Status               NullDocumentStatusEnum
}

// ========== BACKGROUND CHECKS ==========
func (q *Queries) CreateBackgroundCheck(ctx context.Context, arg CreateBackgroundCheckParams) (CaptainBackgroundCheck, error) {
	row := q.db.QueryRowContext(ctx, createBackgroundCheck,
		arg.VerificationID,
		arg.PoliceVerificationID,
		arg.ReportUrl,
		arg.Status,
	)
	var i CaptainBackgroundCheck
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.PoliceVerificationID,
		&i.ReportUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const createBankAccount = `-- name: CreateBankAccount :one

INSERT INTO captain_bank_accounts (
    verification_id,
    account_number,
    ifsc_code,
    account_holder_name,
    status
) VALUES (
    $1, $2, $3, $4, $5
) RETURNING id, verification_id, account_number, ifsc_code, account_holder_name, status, admin_comment, verified_by, verified_at, created_at
`

type CreateBankAccountParams struct {
	VerificationID    int32
	AccountNumber     string
	IfscCode          string
	AccountHolderName sql.NullString
	Status            NullDocumentStatusEnum
}

// ========== BANK ACCOUNTS ==========
func (q *Queries) CreateBankAccount(ctx context.Context, arg CreateBankAccountParams) (CaptainBankAccount, error) {
	row := q.db.QueryRowContext(ctx, createBankAccount,
		arg.VerificationID,
		arg.AccountNumber,
		arg.IfscCode,
		arg.AccountHolderName,
		arg.Status,
	)
	var i CaptainBankAccount
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.AccountNumber,
		&i.IfscCode,
		&i.AccountHolderName,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const createCaptainVerification = `-- name: CreateCaptainVerification :one
INSERT INTO captain_verifications (
    captain_id,
    overall_status,
    current_stage,
    is_blacklisted,
    blacklist_reason
) VALUES (
    $1, $2, $3, $4, $5
) RETURNING id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at
`

type CreateCaptainVerificationParams struct {
	CaptainID       int32
	OverallStatus   NullVerificationStatusEnum
	CurrentStage    NullVerificationStageEnum
	IsBlacklisted   sql.NullBool
	BlacklistReason sql.NullString
}

func (q *Queries) CreateCaptainVerification(ctx context.Context, arg CreateCaptainVerificationParams) (CaptainVerification, error) {
	row := q.db.QueryRowContext(ctx, createCaptainVerification,
		arg.CaptainID,
		arg.OverallStatus,
		arg.CurrentStage,
		arg.IsBlacklisted,
		arg.BlacklistReason,
	)
	var i CaptainVerification
	err := row.Scan(
		&i.ID,
		&i.CaptainID,
		&i.OverallStatus,
		&i.CurrentStage,
		&i.IsBlacklisted,
		&i.BlacklistReason,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const createLicenseDetails = `-- name: CreateLicenseDetails :one

INSERT INTO captain_license_details (
    verification_id,
    license_number,
    expiry_date,
    front_url,
    back_url,
    status
) VALUES (
    $1, $2, $3, $4, $5, $6
) RETURNING id, verification_id, license_number, expiry_date, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at
`

type CreateLicenseDetailsParams struct {
	VerificationID int32
	LicenseNumber  string
	ExpiryDate     time.Time
	FrontUrl       sql.NullString
	BackUrl        sql.NullString
	Status         NullDocumentStatusEnum
}

// ========== LICENSE DETAILS ==========
func (q *Queries) CreateLicenseDetails(ctx context.Context, arg CreateLicenseDetailsParams) (CaptainLicenseDetail, error) {
	row := q.db.QueryRowContext(ctx, createLicenseDetails,
		arg.VerificationID,
		arg.LicenseNumber,
		arg.ExpiryDate,
		arg.FrontUrl,
		arg.BackUrl,
		arg.Status,
	)
	var i CaptainLicenseDetail
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.LicenseNumber,
		&i.ExpiryDate,
		&i.FrontUrl,
		&i.BackUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const createVehicle = `-- name: CreateVehicle :one

INSERT INTO captain_vehicles (
    verification_id,
    vehicle_number,
    vehicle_type,
    rc_book_url,
    insurance_url,
    status
) VALUES (
    $1, $2, $3, $4, $5, $6
) RETURNING id, verification_id, vehicle_number, vehicle_type, rc_book_url, insurance_url, status, admin_comment, verified_by, verified_at, created_at
`

type CreateVehicleParams struct {
	VerificationID int32
	VehicleNumber  string
	VehicleType    sql.NullString
	RcBookUrl      sql.NullString
	InsuranceUrl   sql.NullString
	Status         NullDocumentStatusEnum
}

// ========== VEHICLES ==========
func (q *Queries) CreateVehicle(ctx context.Context, arg CreateVehicleParams) (CaptainVehicle, error) {
	row := q.db.QueryRowContext(ctx, createVehicle,
		arg.VerificationID,
		arg.VehicleNumber,
		arg.VehicleType,
		arg.RcBookUrl,
		arg.InsuranceUrl,
		arg.Status,
	)
	var i CaptainVehicle
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.VehicleNumber,
		&i.VehicleType,
		&i.RcBookUrl,
		&i.InsuranceUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const deleteBankAccount = `-- name: DeleteBankAccount :exec
DELETE FROM captain_bank_accounts
WHERE id = $1
`

func (q *Queries) DeleteBankAccount(ctx context.Context, id int32) error {
	_, err := q.db.ExecContext(ctx, deleteBankAccount, id)
	return err
}

const deleteCaptainVerification = `-- name: DeleteCaptainVerification :exec
DELETE FROM captain_verifications
WHERE id = $1
`

func (q *Queries) DeleteCaptainVerification(ctx context.Context, id int32) error {
	_, err := q.db.ExecContext(ctx, deleteCaptainVerification, id)
	return err
}

const deleteVehicle = `-- name: DeleteVehicle :exec
DELETE FROM captain_vehicles
WHERE id = $1
`

func (q *Queries) DeleteVehicle(ctx context.Context, id int32) error {
	_, err := q.db.ExecContext(ctx, deleteVehicle, id)
	return err
}

const getAadharDetails = `-- name: GetAadharDetails :one
SELECT id, verification_id, aadhar_number, aadhar_name, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at FROM captain_aadhar_details
WHERE verification_id = $1 LIMIT 1
`

func (q *Queries) GetAadharDetails(ctx context.Context, verificationID int32) (CaptainAadharDetail, error) {
	row := q.db.QueryRowContext(ctx, getAadharDetails, verificationID)
	var i CaptainAadharDetail
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.AadharNumber,
		&i.AadharName,
		&i.FrontUrl,
		&i.BackUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const getBackgroundCheck = `-- name: GetBackgroundCheck :one
SELECT id, verification_id, police_verification_id, report_url, status, admin_comment, verified_by, verified_at, created_at FROM captain_background_checks
WHERE verification_id = $1 LIMIT 1
`

func (q *Queries) GetBackgroundCheck(ctx context.Context, verificationID int32) (CaptainBackgroundCheck, error) {
	row := q.db.QueryRowContext(ctx, getBackgroundCheck, verificationID)
	var i CaptainBackgroundCheck
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.PoliceVerificationID,
		&i.ReportUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const getBankAccount = `-- name: GetBankAccount :one
SELECT id, verification_id, account_number, ifsc_code, account_holder_name, status, admin_comment, verified_by, verified_at, created_at FROM captain_bank_accounts
WHERE id = $1 LIMIT 1
`

func (q *Queries) GetBankAccount(ctx context.Context, id int32) (CaptainBankAccount, error) {
	row := q.db.QueryRowContext(ctx, getBankAccount, id)
	var i CaptainBankAccount
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.AccountNumber,
		&i.IfscCode,
		&i.AccountHolderName,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const getBankAccountsByVerificationID = `-- name: GetBankAccountsByVerificationID :many
SELECT id, verification_id, account_number, ifsc_code, account_holder_name, status, admin_comment, verified_by, verified_at, created_at FROM captain_bank_accounts
WHERE verification_id = $1
ORDER BY created_at DESC
`

func (q *Queries) GetBankAccountsByVerificationID(ctx context.Context, verificationID int32) ([]CaptainBankAccount, error) {
	rows, err := q.db.QueryContext(ctx, getBankAccountsByVerificationID, verificationID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CaptainBankAccount
	for rows.Next() {
		var i CaptainBankAccount
		if err := rows.Scan(
			&i.ID,
			&i.VerificationID,
			&i.AccountNumber,
			&i.IfscCode,
			&i.AccountHolderName,
			&i.Status,
			&i.AdminComment,
			&i.VerifiedBy,
			&i.VerifiedAt,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getBlacklistedCaptains = `-- name: GetBlacklistedCaptains :many
SELECT id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at FROM captain_verifications
WHERE is_blacklisted = true
ORDER BY updated_at DESC
LIMIT $1 OFFSET $2
`

type GetBlacklistedCaptainsParams struct {
	Limit  int32
	Offset int32
}

func (q *Queries) GetBlacklistedCaptains(ctx context.Context, arg GetBlacklistedCaptainsParams) ([]CaptainVerification, error) {
	rows, err := q.db.QueryContext(ctx, getBlacklistedCaptains, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CaptainVerification
	for rows.Next() {
		var i CaptainVerification
		if err := rows.Scan(
			&i.ID,
			&i.CaptainID,
			&i.OverallStatus,
			&i.CurrentStage,
			&i.IsBlacklisted,
			&i.BlacklistReason,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getCaptainVerification = `-- name: GetCaptainVerification :one
SELECT id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at FROM captain_verifications
WHERE id = $1 LIMIT 1
`

func (q *Queries) GetCaptainVerification(ctx context.Context, id int32) (CaptainVerification, error) {
	row := q.db.QueryRowContext(ctx, getCaptainVerification, id)
	var i CaptainVerification
	err := row.Scan(
		&i.ID,
		&i.CaptainID,
		&i.OverallStatus,
		&i.CurrentStage,
		&i.IsBlacklisted,
		&i.BlacklistReason,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getCaptainVerificationByCaptainID = `-- name: GetCaptainVerificationByCaptainID :one
SELECT id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at FROM captain_verifications
WHERE captain_id = $1 LIMIT 1
`

func (q *Queries) GetCaptainVerificationByCaptainID(ctx context.Context, captainID int32) (CaptainVerification, error) {
	row := q.db.QueryRowContext(ctx, getCaptainVerificationByCaptainID, captainID)
	var i CaptainVerification
	err := row.Scan(
		&i.ID,
		&i.CaptainID,
		&i.OverallStatus,
		&i.CurrentStage,
		&i.IsBlacklisted,
		&i.BlacklistReason,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getCompleteVerificationData = `-- name: GetCompleteVerificationData :one

SELECT 
    cv.id, cv.captain_id, cv.overall_status, cv.current_stage, cv.is_blacklisted, cv.blacklist_reason, cv.created_at, cv.updated_at,
    json_build_object(
        'id', cad.id,
        'aadhar_number', cad.aadhar_number,
        'aadhar_name', cad.aadhar_name,
        'status', cad.status
    ) as aadhar_details,
    json_build_object(
        'id', cld.id,
        'license_number', cld.license_number,
        'expiry_date', cld.expiry_date,
        'status', cld.status
    ) as license_details
FROM captain_verifications cv
LEFT JOIN captain_aadhar_details cad ON cv.id = cad.verification_id
LEFT JOIN captain_license_details cld ON cv.id = cld.verification_id
WHERE cv.id = $1
`

type GetCompleteVerificationDataRow struct {
	ID              int32
	CaptainID       int32
	OverallStatus   NullVerificationStatusEnum
	CurrentStage    NullVerificationStageEnum
	IsBlacklisted   sql.NullBool
	BlacklistReason sql.NullString
	CreatedAt       sql.NullTime
	UpdatedAt       sql.NullTime
	AadharDetails   json.RawMessage
	LicenseDetails  json.RawMessage
}

// ========== COMPLETE VERIFICATION DATA ==========
func (q *Queries) GetCompleteVerificationData(ctx context.Context, id int32) (GetCompleteVerificationDataRow, error) {
	row := q.db.QueryRowContext(ctx, getCompleteVerificationData, id)
	var i GetCompleteVerificationDataRow
	err := row.Scan(
		&i.ID,
		&i.CaptainID,
		&i.OverallStatus,
		&i.CurrentStage,
		&i.IsBlacklisted,
		&i.BlacklistReason,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.AadharDetails,
		&i.LicenseDetails,
	)
	return i, err
}

const getExpiringLicenses = `-- name: GetExpiringLicenses :many
SELECT id, verification_id, license_number, expiry_date, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at FROM captain_license_details
WHERE expiry_date <= $1
AND status = 'APPROVED'
ORDER BY expiry_date ASC
`

func (q *Queries) GetExpiringLicenses(ctx context.Context, expiryDate time.Time) ([]CaptainLicenseDetail, error) {
	rows, err := q.db.QueryContext(ctx, getExpiringLicenses, expiryDate)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CaptainLicenseDetail
	for rows.Next() {
		var i CaptainLicenseDetail
		if err := rows.Scan(
			&i.ID,
			&i.VerificationID,
			&i.LicenseNumber,
			&i.ExpiryDate,
			&i.FrontUrl,
			&i.BackUrl,
			&i.Status,
			&i.AdminComment,
			&i.VerifiedBy,
			&i.VerifiedAt,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getLicenseDetails = `-- name: GetLicenseDetails :one
SELECT id, verification_id, license_number, expiry_date, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at FROM captain_license_details
WHERE verification_id = $1 LIMIT 1
`

func (q *Queries) GetLicenseDetails(ctx context.Context, verificationID int32) (CaptainLicenseDetail, error) {
	row := q.db.QueryRowContext(ctx, getLicenseDetails, verificationID)
	var i CaptainLicenseDetail
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.LicenseNumber,
		&i.ExpiryDate,
		&i.FrontUrl,
		&i.BackUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const getVehicle = `-- name: GetVehicle :one
SELECT id, verification_id, vehicle_number, vehicle_type, rc_book_url, insurance_url, status, admin_comment, verified_by, verified_at, created_at FROM captain_vehicles
WHERE id = $1 LIMIT 1
`

func (q *Queries) GetVehicle(ctx context.Context, id int32) (CaptainVehicle, error) {
	row := q.db.QueryRowContext(ctx, getVehicle, id)
	var i CaptainVehicle
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.VehicleNumber,
		&i.VehicleType,
		&i.RcBookUrl,
		&i.InsuranceUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const getVehiclesByVerificationID = `-- name: GetVehiclesByVerificationID :many
SELECT id, verification_id, vehicle_number, vehicle_type, rc_book_url, insurance_url, status, admin_comment, verified_by, verified_at, created_at FROM captain_vehicles
WHERE verification_id = $1
ORDER BY created_at DESC
`

func (q *Queries) GetVehiclesByVerificationID(ctx context.Context, verificationID int32) ([]CaptainVehicle, error) {
	rows, err := q.db.QueryContext(ctx, getVehiclesByVerificationID, verificationID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CaptainVehicle
	for rows.Next() {
		var i CaptainVehicle
		if err := rows.Scan(
			&i.ID,
			&i.VerificationID,
			&i.VehicleNumber,
			&i.VehicleType,
			&i.RcBookUrl,
			&i.InsuranceUrl,
			&i.Status,
			&i.AdminComment,
			&i.VerifiedBy,
			&i.VerifiedAt,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPendingVerifications = `-- name: ListPendingVerifications :many
SELECT id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at FROM captain_verifications
WHERE overall_status = 'PENDING'
ORDER BY created_at DESC
LIMIT $1 OFFSET $2
`

type ListPendingVerificationsParams struct {
	Limit  int32
	Offset int32
}

func (q *Queries) ListPendingVerifications(ctx context.Context, arg ListPendingVerificationsParams) ([]CaptainVerification, error) {
	rows, err := q.db.QueryContext(ctx, listPendingVerifications, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CaptainVerification
	for rows.Next() {
		var i CaptainVerification
		if err := rows.Scan(
			&i.ID,
			&i.CaptainID,
			&i.OverallStatus,
			&i.CurrentStage,
			&i.IsBlacklisted,
			&i.BlacklistReason,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listVerificationsByStage = `-- name: ListVerificationsByStage :many
SELECT id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at FROM captain_verifications
WHERE current_stage = $1
ORDER BY created_at DESC
LIMIT $2 OFFSET $3
`

type ListVerificationsByStageParams struct {
	CurrentStage NullVerificationStageEnum
	Limit        int32
	Offset       int32
}

func (q *Queries) ListVerificationsByStage(ctx context.Context, arg ListVerificationsByStageParams) ([]CaptainVerification, error) {
	rows, err := q.db.QueryContext(ctx, listVerificationsByStage, arg.CurrentStage, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CaptainVerification
	for rows.Next() {
		var i CaptainVerification
		if err := rows.Scan(
			&i.ID,
			&i.CaptainID,
			&i.OverallStatus,
			&i.CurrentStage,
			&i.IsBlacklisted,
			&i.BlacklistReason,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listVerificationsByStatus = `-- name: ListVerificationsByStatus :many
SELECT id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at FROM captain_verifications
WHERE overall_status = $1
ORDER BY created_at DESC
LIMIT $2 OFFSET $3
`

type ListVerificationsByStatusParams struct {
	OverallStatus NullVerificationStatusEnum
	Limit         int32
	Offset        int32
}

func (q *Queries) ListVerificationsByStatus(ctx context.Context, arg ListVerificationsByStatusParams) ([]CaptainVerification, error) {
	rows, err := q.db.QueryContext(ctx, listVerificationsByStatus, arg.OverallStatus, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CaptainVerification
	for rows.Next() {
		var i CaptainVerification
		if err := rows.Scan(
			&i.ID,
			&i.CaptainID,
			&i.OverallStatus,
			&i.CurrentStage,
			&i.IsBlacklisted,
			&i.BlacklistReason,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateAadharDocuments = `-- name: UpdateAadharDocuments :one
UPDATE captain_aadhar_details
SET front_url = $2,
    back_url = $3
WHERE verification_id = $1
RETURNING id, verification_id, aadhar_number, aadhar_name, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateAadharDocumentsParams struct {
	VerificationID int32
	FrontUrl       sql.NullString
	BackUrl        sql.NullString
}

func (q *Queries) UpdateAadharDocuments(ctx context.Context, arg UpdateAadharDocumentsParams) (CaptainAadharDetail, error) {
	row := q.db.QueryRowContext(ctx, updateAadharDocuments, arg.VerificationID, arg.FrontUrl, arg.BackUrl)
	var i CaptainAadharDetail
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.AadharNumber,
		&i.AadharName,
		&i.FrontUrl,
		&i.BackUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const updateAadharStatus = `-- name: UpdateAadharStatus :one
UPDATE captain_aadhar_details
SET status = $2,
    admin_comment = $3,
    verified_by = $4,
    verified_at = CURRENT_TIMESTAMP
WHERE verification_id = $1
RETURNING id, verification_id, aadhar_number, aadhar_name, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateAadharStatusParams struct {
	VerificationID int32
	Status         NullDocumentStatusEnum
	AdminComment   sql.NullString
	VerifiedBy     sql.NullInt32
}

func (q *Queries) UpdateAadharStatus(ctx context.Context, arg UpdateAadharStatusParams) (CaptainAadharDetail, error) {
	row := q.db.QueryRowContext(ctx, updateAadharStatus,
		arg.VerificationID,
		arg.Status,
		arg.AdminComment,
		arg.VerifiedBy,
	)
	var i CaptainAadharDetail
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.AadharNumber,
		&i.AadharName,
		&i.FrontUrl,
		&i.BackUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const updateBackgroundCheckReport = `-- name: UpdateBackgroundCheckReport :one
UPDATE captain_background_checks
SET report_url = $2
WHERE verification_id = $1
RETURNING id, verification_id, police_verification_id, report_url, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateBackgroundCheckReportParams struct {
	VerificationID int32
	ReportUrl      sql.NullString
}

func (q *Queries) UpdateBackgroundCheckReport(ctx context.Context, arg UpdateBackgroundCheckReportParams) (CaptainBackgroundCheck, error) {
	row := q.db.QueryRowContext(ctx, updateBackgroundCheckReport, arg.VerificationID, arg.ReportUrl)
	var i CaptainBackgroundCheck
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.PoliceVerificationID,
		&i.ReportUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const updateBackgroundCheckStatus = `-- name: UpdateBackgroundCheckStatus :one
UPDATE captain_background_checks
SET status = $2,
    admin_comment = $3,
    verified_by = $4,
    verified_at = CURRENT_TIMESTAMP
WHERE verification_id = $1
RETURNING id, verification_id, police_verification_id, report_url, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateBackgroundCheckStatusParams struct {
	VerificationID int32
	Status         NullDocumentStatusEnum
	AdminComment   sql.NullString
	VerifiedBy     sql.NullInt32
}

func (q *Queries) UpdateBackgroundCheckStatus(ctx context.Context, arg UpdateBackgroundCheckStatusParams) (CaptainBackgroundCheck, error) {
	row := q.db.QueryRowContext(ctx, updateBackgroundCheckStatus,
		arg.VerificationID,
		arg.Status,
		arg.AdminComment,
		arg.VerifiedBy,
	)
	var i CaptainBackgroundCheck
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.PoliceVerificationID,
		&i.ReportUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const updateBankAccountStatus = `-- name: UpdateBankAccountStatus :one
UPDATE captain_bank_accounts
SET status = $2,
    admin_comment = $3,
    verified_by = $4,
    verified_at = CURRENT_TIMESTAMP
WHERE id = $1
RETURNING id, verification_id, account_number, ifsc_code, account_holder_name, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateBankAccountStatusParams struct {
	ID           int32
	Status       NullDocumentStatusEnum
	AdminComment sql.NullString
	VerifiedBy   sql.NullInt32
}

func (q *Queries) UpdateBankAccountStatus(ctx context.Context, arg UpdateBankAccountStatusParams) (CaptainBankAccount, error) {
	row := q.db.QueryRowContext(ctx, updateBankAccountStatus,
		arg.ID,
		arg.Status,
		arg.AdminComment,
		arg.VerifiedBy,
	)
	var i CaptainBankAccount
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.AccountNumber,
		&i.IfscCode,
		&i.AccountHolderName,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const updateCaptainBlacklist = `-- name: UpdateCaptainBlacklist :one
UPDATE captain_verifications
SET is_blacklisted = $2,
    blacklist_reason = $3,
    updated_at = CURRENT_TIMESTAMP
WHERE id = $1
RETURNING id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at
`

type UpdateCaptainBlacklistParams struct {
	ID              int32
	IsBlacklisted   sql.NullBool
	BlacklistReason sql.NullString
}

func (q *Queries) UpdateCaptainBlacklist(ctx context.Context, arg UpdateCaptainBlacklistParams) (CaptainVerification, error) {
	row := q.db.QueryRowContext(ctx, updateCaptainBlacklist, arg.ID, arg.IsBlacklisted, arg.BlacklistReason)
	var i CaptainVerification
	err := row.Scan(
		&i.ID,
		&i.CaptainID,
		&i.OverallStatus,
		&i.CurrentStage,
		&i.IsBlacklisted,
		&i.BlacklistReason,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const updateCaptainVerificationStatus = `-- name: UpdateCaptainVerificationStatus :one
UPDATE captain_verifications
SET overall_status = $2,
    current_stage = $3,
    updated_at = CURRENT_TIMESTAMP
WHERE id = $1
RETURNING id, captain_id, overall_status, current_stage, is_blacklisted, blacklist_reason, created_at, updated_at
`

type UpdateCaptainVerificationStatusParams struct {
	ID            int32
	OverallStatus NullVerificationStatusEnum
	CurrentStage  NullVerificationStageEnum
}

func (q *Queries) UpdateCaptainVerificationStatus(ctx context.Context, arg UpdateCaptainVerificationStatusParams) (CaptainVerification, error) {
	row := q.db.QueryRowContext(ctx, updateCaptainVerificationStatus, arg.ID, arg.OverallStatus, arg.CurrentStage)
	var i CaptainVerification
	err := row.Scan(
		&i.ID,
		&i.CaptainID,
		&i.OverallStatus,
		&i.CurrentStage,
		&i.IsBlacklisted,
		&i.BlacklistReason,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const updateLicenseDocuments = `-- name: UpdateLicenseDocuments :one
UPDATE captain_license_details
SET front_url = $2,
    back_url = $3
WHERE verification_id = $1
RETURNING id, verification_id, license_number, expiry_date, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateLicenseDocumentsParams struct {
	VerificationID int32
	FrontUrl       sql.NullString
	BackUrl        sql.NullString
}

func (q *Queries) UpdateLicenseDocuments(ctx context.Context, arg UpdateLicenseDocumentsParams) (CaptainLicenseDetail, error) {
	row := q.db.QueryRowContext(ctx, updateLicenseDocuments, arg.VerificationID, arg.FrontUrl, arg.BackUrl)
	var i CaptainLicenseDetail
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.LicenseNumber,
		&i.ExpiryDate,
		&i.FrontUrl,
		&i.BackUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const updateLicenseStatus = `-- name: UpdateLicenseStatus :one
UPDATE captain_license_details
SET status = $2,
    admin_comment = $3,
    verified_by = $4,
    verified_at = CURRENT_TIMESTAMP
WHERE verification_id = $1
RETURNING id, verification_id, license_number, expiry_date, front_url, back_url, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateLicenseStatusParams struct {
	VerificationID int32
	Status         NullDocumentStatusEnum
	AdminComment   sql.NullString
	VerifiedBy     sql.NullInt32
}

func (q *Queries) UpdateLicenseStatus(ctx context.Context, arg UpdateLicenseStatusParams) (CaptainLicenseDetail, error) {
	row := q.db.QueryRowContext(ctx, updateLicenseStatus,
		arg.VerificationID,
		arg.Status,
		arg.AdminComment,
		arg.VerifiedBy,
	)
	var i CaptainLicenseDetail
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.LicenseNumber,
		&i.ExpiryDate,
		&i.FrontUrl,
		&i.BackUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const updateVehicleDocuments = `-- name: UpdateVehicleDocuments :one
UPDATE captain_vehicles
SET rc_book_url = $2,
    insurance_url = $3
WHERE id = $1
RETURNING id, verification_id, vehicle_number, vehicle_type, rc_book_url, insurance_url, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateVehicleDocumentsParams struct {
	ID           int32
	RcBookUrl    sql.NullString
	InsuranceUrl sql.NullString
}

func (q *Queries) UpdateVehicleDocuments(ctx context.Context, arg UpdateVehicleDocumentsParams) (CaptainVehicle, error) {
	row := q.db.QueryRowContext(ctx, updateVehicleDocuments, arg.ID, arg.RcBookUrl, arg.InsuranceUrl)
	var i CaptainVehicle
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.VehicleNumber,
		&i.VehicleType,
		&i.RcBookUrl,
		&i.InsuranceUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}

const updateVehicleStatus = `-- name: UpdateVehicleStatus :one
UPDATE captain_vehicles
SET status = $2,
    admin_comment = $3,
    verified_by = $4,
    verified_at = CURRENT_TIMESTAMP
WHERE id = $1
RETURNING id, verification_id, vehicle_number, vehicle_type, rc_book_url, insurance_url, status, admin_comment, verified_by, verified_at, created_at
`

type UpdateVehicleStatusParams struct {
	ID           int32
	Status       NullDocumentStatusEnum
	AdminComment sql.NullString
	VerifiedBy   sql.NullInt32
}

func (q *Queries) UpdateVehicleStatus(ctx context.Context, arg UpdateVehicleStatusParams) (CaptainVehicle, error) {
	row := q.db.QueryRowContext(ctx, updateVehicleStatus,
		arg.ID,
		arg.Status,
		arg.AdminComment,
		arg.VerifiedBy,
	)
	var i CaptainVehicle
	err := row.Scan(
		&i.ID,
		&i.VerificationID,
		&i.VehicleNumber,
		&i.VehicleType,
		&i.RcBookUrl,
		&i.InsuranceUrl,
		&i.Status,
		&i.AdminComment,
		&i.VerifiedBy,
		&i.VerifiedAt,
		&i.CreatedAt,
	)
	return i, err
}
